{"ast":null,"code":"import _slicedToArray from\"/home/santiago/React/expense-tracker/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from\"react\";import{GlobalContext}from\"../../context/GlobalState\";import{Link,useNavigate}from\"react-router-dom\";import Logo from\"../../images/logo.png\";import{GoogleLogout}from\"react-google-login\";import{Header,LogoContainer,Avatar,UserContainer,LogoutButton,AppName}from\"./AppbarElements\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Appbar=function Appbar(){var _user$result,_user$result2;var _useState=useState(JSON.parse(localStorage.getItem(\"profile\"))),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useContext=useContext(GlobalContext),logout=_useContext.logout;var navigate=useNavigate();useEffect(function(){setUser(JSON.parse(localStorage.getItem(\"profile\")));},[]);var handleLogout=function handleLogout(){logout(navigate);};return/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(LogoContainer,{children:/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"Logo\"})}),/*#__PURE__*/_jsx(AppName,{children:\"Expense Tracker\"}),/*#__PURE__*/_jsxs(UserContainer,{children:[/*#__PURE__*/_jsx(Avatar,{alt:user===null||user===void 0?void 0:(_user$result=user.result)===null||_user$result===void 0?void 0:_user$result.sub,src:user===null||user===void 0?void 0:(_user$result2=user.result)===null||_user$result2===void 0?void 0:_user$result2.picture}),/*#__PURE__*/_jsx(GoogleLogout,{clientId:process.env.REACT_APP_CLIENT_ID,buttonText:\"Logout\",onLogoutSuccess:handleLogout,render:function render(renderProps){return/*#__PURE__*/_jsx(LogoutButton,{onClick:renderProps.onClick,disabled:renderProps.disabled,children:\"LOG OUT\"});}})]})]});};export default Appbar;","map":{"version":3,"sources":["/home/santiago/React/expense-tracker/client/src/components/Appbar/index.js"],"names":["React","useState","useEffect","useContext","GlobalContext","Link","useNavigate","Logo","GoogleLogout","Header","LogoContainer","Avatar","UserContainer","LogoutButton","AppName","Appbar","JSON","parse","localStorage","getItem","user","setUser","logout","navigate","handleLogout","result","sub","picture","process","env","REACT_APP_CLIENT_ID","renderProps","onClick","disabled"],"mappings":"iIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,OAASC,aAAT,KAA8B,2BAA9B,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CACA,OAASC,YAAT,KAA6B,oBAA7B,CAEA,OACEC,MADF,CAEEC,aAFF,CAGEC,MAHF,CAIEC,aAJF,CAKEC,YALF,CAMEC,OANF,KAOO,kBAPP,C,wFASA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,gCACnB,cAAwBd,QAAQ,CAACe,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACA,gBAAmBlB,UAAU,CAACC,aAAD,CAA7B,CAAQkB,MAAR,aAAQA,MAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CAEAJ,SAAS,CAAC,UAAM,CACdmB,OAAO,CAACL,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAD,CAAP,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBF,MAAM,CAACC,QAAD,CAAN,CACD,CAFD,CAIA,mBACE,MAAC,MAAD,yBACE,KAAC,aAAD,wBACE,YAAK,GAAG,CAAEhB,IAAV,CAAgB,GAAG,CAAC,MAApB,EADF,EADF,cAKE,KAAC,OAAD,8BALF,cAME,MAAC,aAAD,yBACE,KAAC,MAAD,EACE,GAAG,CAAEa,IAAF,SAAEA,IAAF,+BAAEA,IAAI,CAAEK,MAAR,uCAAE,aAAcC,GADrB,CAEE,GAAG,CAAEN,IAAF,SAAEA,IAAF,gCAAEA,IAAI,CAAEK,MAAR,wCAAE,cAAcE,OAFrB,EADF,cAKE,KAAC,YAAD,EACE,QAAQ,CAAEC,OAAO,CAACC,GAAR,CAAYC,mBADxB,CAEE,UAAU,CAAC,QAFb,CAGE,eAAe,CAAEN,YAHnB,CAIE,MAAM,CAAE,gBAACO,WAAD,qBACN,KAAC,YAAD,EACE,OAAO,CAAEA,WAAW,CAACC,OADvB,CAEE,QAAQ,CAAED,WAAW,CAACE,QAFxB,qBADM,EAJV,EALF,GANF,GADF,CA4BD,CAzCD,CA2CA,cAAelB,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { GlobalContext } from \"../../context/GlobalState\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Logo from \"../../images/logo.png\";\nimport { GoogleLogout } from \"react-google-login\";\n\nimport {\n  Header,\n  LogoContainer,\n  Avatar,\n  UserContainer,\n  LogoutButton,\n  AppName,\n} from \"./AppbarElements\";\n\nconst Appbar = () => {\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\n  const { logout } = useContext(GlobalContext);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    setUser(JSON.parse(localStorage.getItem(\"profile\")));\n  }, []);\n\n  const handleLogout = () => {\n    logout(navigate);\n  };\n\n  return (\n    <Header>\n      <LogoContainer>\n        <img src={Logo} alt=\"Logo\" />\n      </LogoContainer>\n\n      <AppName>Expense Tracker</AppName>\n      <UserContainer>\n        <Avatar\n          alt={user?.result?.sub}\n          src={user?.result?.picture}\n        />\n        <GoogleLogout\n          clientId={process.env.REACT_APP_CLIENT_ID}\n          buttonText=\"Logout\"\n          onLogoutSuccess={handleLogout}\n          render={(renderProps) => (\n            <LogoutButton\n              onClick={renderProps.onClick}\n              disabled={renderProps.disabled}\n            >\n              LOG OUT\n            </LogoutButton>\n          )}\n        ></GoogleLogout>\n      </UserContainer>\n    </Header>\n  );\n};\n\nexport default Appbar;\n"]},"metadata":{},"sourceType":"module"}